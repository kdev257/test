{% extends 'inventory/index.html' %}

{% block main-content %}
<hr class='text-warning text-lg'> 
<center><h3 class='text-warning'>Gate Entry List</h3></center>

<!-- Search form -->
<form method="GET" action="{% url 'gate_entry_register' %}" class="mb-3">
    <div class="input-group w-50">
        <input type="text" name="q" value="{{ query }}" class="form-control" placeholder="Search...">
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form>

<table class="table table-hover">
    <thead>
        <tr>
            <th>ID</th>
            <th>Gate Entry Number</th>
            <th>Gate Entry Date</th>
            <th>Truck Number</th>
            <th>Driver Name</th>
            <th>License Number</th>
            <th>Invoice Number</th>
            <th>Invoice Date</th>
            <th>Item</th>
            <th>Invoice Quantity</th>
            <th>Invoice Value</th>
            <th>Time Out</th>
            <th>MRN Number/Date</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% if register %}
            {% for ge in register %}
                <tr>
                    <td>{{ ge.id }}</td>
                    <td>{{ ge.gate_entry_number }}</td>
                    <td>{{ ge.gate_entry_date }}</td>
                    <td>{{ ge.truck_number }}</td>
                    <td>{{ ge.driver_name }}</td>
                    <td>{{ ge.license_number }}</td>
                    <td>{{ ge.invoice_no }}</td>
                    <td>{{ ge.invoice_date }}</td>
                    <td>{{ ge.item }}</td>
                    <td>{{ ge.invoice_quantity }}</td>
                    <td>{{ ge.invoice_value }}</td>
                    <td>{{ ge.out_time }}</td>
                    <td>{{ ge.mrn_number }}/{{ ge.mrn_date }}</td>
                    <td>
                        <a href="{% url 'vehicle_unload' ge.id  %}">
                            <button class='btn btn-primary'>Fill Unloading Report</button>
                        </a>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="13">No records found.</td>
            </tr>
        {% endif %}
    </tbody>
</table>
{% endblock main-content %}
